<!DOCTYPE html>
<html lang="zh">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme-color" content=#58b77a>
  <title>来啊，我们聊聊 Object | Pippin&#39;s Fairy Land</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content="Pippin">
  <meta name="keywords" content="">
  <meta name="description" content="广阔天地，大有作为">
  <script id="hexo-configurations">
  var CONFIG = {
    root: '/',
    theme: 'lx',
    version: '0.3.9',
    localsearch:{
      "enable": false,
      "trigger": "auto",
      "top_n_per_article": 1,
      "unescape": false,
      "preload": false
      },
    path: 'null'
  };
</script>

  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/theme-lx@0.3.9/source/css/main.min.css">
  <style type="text/css">
    pre,
    code {
      font-family: 'Fira Code', monospace;
    }
    html {
      font-family: sans-serif;
    }
    body {
      font-family: sans-serif;
    }
    h1, h2, h3, h4, h5, figure {
      font-family: sans-serif;
    }
    .menu-container{
      font-family: sans-serif;
    }
  </style>

  <script src="//cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/theme-lx@0.3.9/source/js/jquery.jside.menu.js"></script>
	<script>
	$(document).ready(function(){
	$(".menu-container").jSideMenu({
	    jSidePosition: "position-right",
	    jSideSticky: true,
	    jSideSkin: "greenish",
	     });
	}); 
	</script>
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Fira Code:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4/css/font-awesome.min.css">
<meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="Pippin's Fairy Land" type="application/atom+xml">
</head>
<body>
<div class="single">

<div id="page">
<div id="lx-aside" style="background-image: url(//cdn.jsdelivr.net/npm/theme-lx@0.3.9/source/images/post_cover.jpeg)" data-stellar-background-ratio="0.5">
  <div class="overlay">
  <div class="page-title">
    <div class="avatar"><a href="/"><img src="/images/avatar.jpeg"></a></div>
    <span>2019-09-29</span>
    <h2>来啊，我们聊聊 Object</h2>
    
    </div>
</div>
</div>

<div id="lx-main-content">
  <div class="lx-post">
    <div class="lx-entry padding">
      <div>
        <p>看OReilly版的JavaScript权威指南，感觉特别累╭(╯3╰)╮然后我在Youtube上找了个视频《Programming with Mosh》，通俗易懂多了。下面是主要是来自视频的学习笔记。</p>
<h2 id="4-Pillars-of-Object-oriented-Programing"><a href="#4-Pillars-of-Object-oriented-Programing" class="headerlink" title="4 Pillars of Object-oriented Programing"></a>4 Pillars of Object-oriented Programing</h2><ol>
<li><em>Encapsulation</em>：翻译成中文就是封装性。如果和Procedural Programming做比较的话，前者是各种函数和变量堆积，杂乱无章。Objected-Oriented Programming 则是把函数和变量各自整理到一块儿，对于收纳癖来说，实在和他对应的变量就是一个unit. </li>
</ol>
<p><img src="https://blog-1258441037.cos.ap-chengdu.myqcloud.com/2020/03/18/1.png" alt="1"></p>
<p>而函数被称为Method，变量（参数）则成为Property.</p>
<p><img src="https://blog-1258441037.cos.ap-chengdu.myqcloud.com/2020/03/18/2.png" alt="2"></p>
<p>如果用一辆小汽车来比喻那就是：车的原材料、模型、颜色就是车的property，而开动、刹车、行驶就是这辆小车的Method</p>
<p><img src="https://blog-1258441037.cos.ap-chengdu.myqcloud.com/2020/03/18/3.png" alt="3"></p>
<p>下面用真正的编程环境来对比Procedure Programming v.s OOP</p>
<p>PP：要先定义变量，然后把这些变量作为参数带入到函数里，很繁琐很麻烦</p>
<p><img src="https://blog-1258441037.cos.ap-chengdu.myqcloud.com/2020/03/18/4.png" alt="4"></p>
<p>OOP，则把这一切封装在一起：</p>
<p> <img src="https://blog-1258441037.cos.ap-chengdu.myqcloud.com/2020/03/18/5.png" alt="5"></p>
<ol start="2">
<li>Abstract: 用作者的话来说Abstract就是把用简单的形式表达复杂的内核，让整个编程过程简单而优雅。</li>
</ol>
<p><img src="https://blog-1258441037.cos.ap-chengdu.myqcloud.com/2020/03/18/6.png" alt="6"></p>
<ol start="3">
<li>Inheritance：可继承性。老子有的，孩子自然也有。孩子不需要从头开始积累。</li>
</ol>
<p><img src="https://blog-1258441037.cos.ap-chengdu.myqcloud.com/2020/03/18/7.png" alt="7"></p>
<p>额其实这个示意图没有完全看懂。html的每个标签从上到下，也都能用一套object解决咯？求例子🌰</p>
<ol start="4">
<li>Polymorphism:</li>
</ol>
<p><img src="https://blog-1258441037.cos.ap-chengdu.myqcloud.com/2020/03/18/8.png" alt="8"></p>
<p>还是这个图👇!</p>
<p><img src="https://blog-1258441037.cos.ap-chengdu.myqcloud.com/2020/03/18/9.png" alt="9"></p>
<p>如果每个element 都需要有不同的render情况，如果用switch的话，就会出现很繁琐的步骤：</p>
<p><img src="https://blog-1258441037.cos.ap-chengdu.myqcloud.com/2020/03/18/10.png" alt="10"></p>
<p>但是呢，我们把render 抽象成一个method那每个element不都可以用在自己里面了，而不需要用繁琐的switch. </p>
<p><img src="https://blog-1258441037.cos.ap-chengdu.myqcloud.com/2020/03/18/11.png" alt="11"></p>
<p>达到一行代替n行的效果</p>
<p><img src="https://blog-1258441037.cos.ap-chengdu.myqcloud.com/2020/03/18/12.png" alt="12"></p>
<p>总结下OOP有以下四大好处：</p>
<p><img src="https://blog-1258441037.cos.ap-chengdu.myqcloud.com/2020/03/18/13.png" alt="13"></p>
<h2 id="Fundamental-Concepts-of-Objects"><a href="#Fundamental-Concepts-of-Objects" class="headerlink" title="Fundamental Concepts of Objects:"></a>Fundamental Concepts of Objects:</h2><h3 id="creating-objects"><a href="#creating-objects" class="headerlink" title="creating objects:"></a>creating objects:</h3><p>方法一：using object syntax: { }<br>object is actually a collection of key value pairs </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">const circle&#x3D;&#123;</span><br><span class="line">	radius:1,</span><br><span class="line">	location:&#123;</span><br><span class="line">		x:1,</span><br><span class="line">		y:1</span><br><span class="line">	&#125;</span><br><span class="line">	draw:function()&#123;</span><br><span class="line">		console.log(&#39;draw&#39;)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<pre><code>* draw: method —&gt; ::define logic:: 
* radius/location: property —&gt; ::hold values:: </code></pre><p>access circle objects members using the dot notation<br><code>circle.draw();</code></p>
<p>方法二：factories and constructors(easy to duplicate) 。 比如一个姓名组合，当你需要加入1000个员工的姓名组合时候，方法一就不适用了。</p>
<blockquote>
<p>behaviors: if object has one or more methods   </p>
</blockquote>
<p><em>Factory Function</em>: </p>
<p><img src="https://blog-1258441037.cos.ap-chengdu.myqcloud.com/2020/03/18/14.png" alt="14"></p>
<p>想要创造新的object，只需要call这个function:</p>
<p><img src="https://blog-1258441037.cos.ap-chengdu.myqcloud.com/2020/03/18/15.png" alt="15"></p>
<p><em>Constructors Function:</em></p>
<ul>
<li>function name 首字母大写</li>
<li>用this来set properties | this: a reference to the object that is executing  this piece of code</li>
</ul>
<p><img src="https://blog-1258441037.cos.ap-chengdu.myqcloud.com/2020/03/18/16.png" alt="16"></p>
<ul>
<li>new operator will <ul>
<li>create an empty object,</li>
<li>“this”will point to that object though this by default point to global/window object</li>
<li>automatically return statement in constructor function</li>
</ul>
</li>
</ul>
<blockquote>
<p>factory vs constructor: 有return的就是factory function  </p>
</blockquote>
<p><em>constructor</em> </p>
<ul>
<li>每个object都有一个constructor, references the function that was used to construct/create that object<br><img src="https://blog-1258441037.cos.ap-chengdu.myqcloud.com/2020/03/18/17.png" alt="17"></li>
</ul>
<p><img src="https://blog-1258441037.cos.ap-chengdu.myqcloud.com/2020/03/18/18.png" alt="18"></p>
<p><img src="https://blog-1258441037.cos.ap-chengdu.myqcloud.com/2020/03/18/19.png" alt="19"></p>
<p>当你用factory的方式创造object 的时候，新出现的object 会出现built-in constructor: Object</p>
<p><img src="https://blog-1258441037.cos.ap-chengdu.myqcloud.com/2020/03/18/20.png" alt="20"></p>
<p>other build-in constructor:<br><img src="https://blog-1258441037.cos.ap-chengdu.myqcloud.com/2020/03/18/21.png" alt="21"></p>
<p>functions are object<br><img src="https://blog-1258441037.cos.ap-chengdu.myqcloud.com/2020/03/18/22.png" alt="22"></p>
<p>👆本质上就等于👇：<br><img src="https://blog-1258441037.cos.ap-chengdu.myqcloud.com/2020/03/18/23.png" alt="23"></p>
<p>new 本质就是一个call function<br><img src="https://blog-1258441037.cos.ap-chengdu.myqcloud.com/2020/03/18/24.png" alt="24"></p>
<ul>
<li>primitives and reference types</li>
</ul>
<p><img src="https://blog-1258441037.cos.ap-chengdu.myqcloud.com/2020/03/18/25.png" alt="25"></p>
<p><img src="https://blog-1258441037.cos.ap-chengdu.myqcloud.com/2020/03/18/26.png" alt="26"></p>
<p>primitives types are independent </p>
<p><img src="https://blog-1258441037.cos.ap-chengdu.myqcloud.com/2020/03/18/27.png" alt="27"></p>
<p><img src="https://blog-1258441037.cos.ap-chengdu.myqcloud.com/2020/03/18/28.png" alt="28"></p>
<p>object value的储存方式 is not stored in this variables, but stored in somewhere else. and the address of that memory is stored inside that variable.  so we copy reference or address not value. </p>
<p><img src="https://blog-1258441037.cos.ap-chengdu.myqcloud.com/2020/03/18/29.png" alt="29"></p>
<p><img src="https://blog-1258441037.cos.ap-chengdu.myqcloud.com/2020/03/18/30.png" alt="30"></p>
<p><img src="https://blog-1258441037.cos.ap-chengdu.myqcloud.com/2020/03/18/31.png" alt="31"></p>
<p>number++ 和number是different primitive。</p>
<p>那么如果是用obj来表示10呢。parameter will point to the same object we refer  to. </p>
<p><img src="https://blog-1258441037.cos.ap-chengdu.myqcloud.com/2020/03/18/32.png" alt="32"></p>
<ul>
<li>adding properties </li>
</ul>
<p><img src="https://blog-1258441037.cos.ap-chengdu.myqcloud.com/2020/03/18/33.png" alt="33"></p>
<p>另一种notation的方法是bracket notation。尤其是当你不确定property的具体name或者你的name其实不是valid的变量名时。</p>
<p><img src="https://blog-1258441037.cos.ap-chengdu.myqcloud.com/2020/03/18/34.png" alt="34"></p>
<ul>
<li><p>delete property<br>delete object.property or object[‘ ‘] </p>
</li>
<li><p>enumerate properties: for in ( if has a given property) 遍历所有members</p>
</li>
</ul>
<p><img src="https://blog-1258441037.cos.ap-chengdu.myqcloud.com/2020/03/18/35.png" alt="35"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const keys &#x3D; object.keys(circle);</span><br><span class="line">console.log(keys)&#96;</span><br></pre></td></tr></table></figure>

<p>乱入一下，关于Object——property / method的key, value：<br><a href="https://javascript.info/keys-values-entries" target="_blank" rel="noopener">Object</a> 研究了一下，结果还做了一个题，然后一脸懵逼😂我的基础到底是有多差呀</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">let user &#x3D; &#123;</span><br><span class="line">  name: “John”,</span><br><span class="line">  age: 30</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>Object.keys(user) = [“name”, “age”]</li>
<li>Object.values(user) = [“John”, 30]</li>
<li>Object.entries(user) = [ [“name”,”John”], [“age”,30] ]<br>— 括号里就是所代指的object的名字。好奇怪，为什么不直接用user.keys</li>
</ul>
<p>题目就是写一个function（用上for in），计算一个salary对象里面所有用户的salaries总和。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function sumSalaries(salaries)&#123;</span><br><span class="line">	for(let value of salaries.values)&#123;</span><br><span class="line">		sum+&#x3D;salaries</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let salaries&#x3D;&#123;</span><br><span class="line">&quot;John&quot;:100,</span><br><span class="line">&quot;Pete&quot;:300,</span><br><span class="line">&quot;Mary&quot;:250 &#125;</span><br></pre></td></tr></table></figure>

<p>正确答案：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">function sumSalaries(salaries) &#123;</span><br><span class="line"></span><br><span class="line">  let sum &#x3D; 0;</span><br><span class="line">  for (let salary of Object.values(salaries)) &#123;</span><br><span class="line">    sum +&#x3D; salary;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  return sum; &#x2F;&#x2F; 650</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let salaries &#x3D; &#123;</span><br><span class="line">  “John”: 100,</span><br><span class="line">  “Pete”: 300,</span><br><span class="line">  “Mary”: 250</span><br><span class="line">&#125;;</span><br><span class="line">alert( sumSalaries(salaries) ); &#x2F;&#x2F; 650</span><br></pre></td></tr></table></figure>

<p>但我依然觉得object.values(salaries)太麻烦</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">function sumSalaries()&#123;</span><br><span class="line">	let sum&#x3D;0;</span><br><span class="line">	for(let salary in salaries.values)&#123;</span><br><span class="line">	sum +&#x3D; salary;</span><br><span class="line">&#125;</span><br><span class="line">	return sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let salaries &#x3D; &#123;</span><br><span class="line">  “John”: 100,</span><br><span class="line">  “Pete”: 300,</span><br><span class="line">  “Mary”: 250</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">alert( sumSalaries() );</span><br></pre></td></tr></table></figure>
      </div>
    </div>
  </div>
</div>
<div class="lx-navigation">
	<div class="lx-cover prev lx-cover-sm" style="background-image: url(//cdn.jsdelivr.net/npm/theme-lx@0.3.9/source/images/footer-l.jpeg)">
		<div class="overlay"></div>
		<a class="copy" href="/2019/11/09/%E3%80%8E%E6%97%A0%E5%8F%A3%E7%82%B9%E6%B3%A2%E3%80%8F%E6%8A%80%E6%9C%AF%E9%97%AE%E9%A2%98/">
			<div class="display-t">
				<div class="display-tc">
					<div>
						<span>Next</span>
						<h3>不奇怪的小知识...</h3>
					</div>
				</div>
			</div>
		</a>
	</div>
        <div class="lx-cover next lx-cover-sm" style="background-image: url(//cdn.jsdelivr.net/npm/theme-lx@0.3.9/source/images/footer-r.jpeg)">
		<div class="overlay"></div>
		<a class="copy" href="/2019/08/13/%E8%B6%A3%E8%AF%B4javascript%20-%20construct/">
			<div class="display-t">
				<div class="display-tc">
					<div>
						<span>Prev</span>
						<h3>趣说javas...</h3>
					</div>
				</div>
			</div>
		</a>
	</div>
</div>

</div>

<footer>
  <div>
  Copyright &copy; 2019.<a href="/">Pippin's Fairy Land</a><br>Powered by <a href="https://hexo.io" target="_blank">Hexo</a> | Theme <a href="https://lx.js.org" target="_blank">Lx</a><br>
  </div>
</footer>

</div>

<button class="hamburger hamburger--arrow-r" type="button">
    <div class="hamburger-box">
      <div class="hamburger-inner"></div>
    </div>
</button> 
<div class="menu visibility">
  <div class="menu-head">
    <span class="layer">
      <div class="col">
        <div class="row for-pic">
          <div class="profile-pic">
            <a href="/"><img src="/images/avatar.jpeg" alt="Pippin"/></a>
          </div>
        </div>
        <div class="row for-name">
          <p>Pippin</p>
          <span class="tagline">Hello, World!</span>
        </div>
      </div>
    </span>
  </div>
  <nav class="menu-container">
  <ul class="menu-items">
    <li><a href="/"><i class="fa fa-home fa-fw"></i>首页</a></li>
    <li><a href="/archives/"><i class="fa fa-archive fa-fw"></i>归档</a></li>
    
    <li class="has-sub"><span class="dropdown-heading">
      <i class="fa fa-bookmark fa-fw"></i>页面</span>
        <ul>
          <li><a href="/guestbook/">Guestbook</a></li>
        <li><a href="/about/">About</a></li>
        </ul>
    </li>
    <li class="has-sub"><span class="dropdown-heading">
      <i class="fa fa-link fa-fw"></i>友链</span>
        <ul>
          <li> <a href="https://lx.js.org" target="_blank">Theme-Lx</a></li>
        </ul>
    </li>
  </ul>
  </nav>
</div>

<div class="gototop js-top">
  <a href="#" class="js-gotop"><i class="fa fa-arrow-up"></i></a>
</div>
<script src="//cdn.jsdelivr.net/npm/theme-lx@0.3.9/source/js/jquery.easing.min.js"></script>
<script>
(function () {
	"use strict";
	var goToTop = function() {
		$(".js-gotop").on("click", function(event){
			event.preventDefault();
			$("html, body").animate({
				scrollTop: $("html").offset().top
			}, 500, "easeInOutExpo");
			return false;
		});
		$(window).scroll(function(){
			var $win = $(window);
			if ($win.scrollTop() > 200) {
				$(".js-top").addClass("active");
			} else {
				$(".js-top").removeClass("active");
			}
		});
	};
	$(function(){
		goToTop();
	});
}());
</script>


</body>
</html>
